#!/usr/local/bin/perl5 -w

# app designed to remove outliers in thickness tables

use strict;

my $filename = shift @ARGV;
my $output = shift @ARGV;
my $threshold = shift @ARGV;
my $replacement = shift @ARGV;

open INFILE, $filename or die "could not open infile\n";
open OUTFILE, ">$output" or die "could not open outfile\n";



while (<INFILE>) {
    my $number = $_;
    chomp $number;
    $number =~ s/\s//g;
    if ($number >= $threshold) {
        $number = $replacement;
    }
    print OUTFILE "$number\n";
}

    
